<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="UTF-8">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="author" content="Fabio Zendhi Nagao" />
		<meta name="editor" content="Notepad++" />
		<meta name="robots" content="index, follow" />
		<meta name="revisit-after" content="15 Days" />
		<link rel="stylesheet" type="text/css" href="http://zend.lojcomm.com.br/common/css/reset-fonts.css" />
		<title>mooCanvas eXperiments</title>

		<meta name="description" content="This page focus is to test mooCanvas, but it also contains some examples of mootools, mooRainbow and more moo related things" />
		<meta name="keywords" content="mooCanvas, canvas, mooRainbow, mootools, color composition, image composition, animation, JavaScript, Fabio Zendhi Nagao" />
		<link type="text/css" rel="stylesheet" href="http://zend.lojcomm.com.br/common/css/zend.css"></link>
		<link type="text/css" rel="stylesheet" href="http://zend.lojcomm.com.br/common/css/moodalbox.css" media="screen" />
		<link type="text/css" rel="stylesheet" href="http://zend.lojcomm.com.br/common/css/mooRainbow.css"></link>
		<link type="text/css" rel="stylesheet" href="http://zend.lojcomm.com.br/common/comments/this.css"></link>
		<style type="text/css">

h2 {clear: both;}

.example {
	float: left;
	width: 316px;
}

.example h3 {
	margin: 5px 0;
	text-align:center;
}

.example_hd {
	background-color: #333;
	height: 22px;
}

.example_hd label {
	margin: 0 5px 0 15px;
	font-size: 85%;
	line-height: 22px;
	color: #faec8f;
}

.example_hd span {
	margin: 0 5px 0 0;
	font-size: 85%;
	line-height: 22px;
	color: #6c6;
	cursor: pointer;
}

.example_hd select,
.example_hd input,
.example_hd img {
	background-color: #333;
	color: #6c6;
	vertical-align: middle;
}
.example_hd input {
	width: 32px;
}

#exFractal_bd_canvas,
#exStarfield_bd_canvas {
	background-color: #333;
}

#exGlobalAlpha {
	margin-left: 8px;
}

		</style>
		<script type="text/javascript" src="../assets/mootools.js"></script>

		<script type="text/javascript" src="../Canvas/Canvas.js"></script>
		<script type="text/javascript" src="../Canvas/Path.js"></script>
		<script type="text/javascript" src="../Canvas/Rects.js"></script>
		<script type="text/javascript" src="../Canvas/Transform.js"></script>
		<script type="text/javascript" src="../Canvas/Image.js"></script>
		<script type="text/javascript" src="../Canvas/Gradient.js"></script>
		<script type="text/javascript" src="../Canvas/State.js"></script>
		<script type="text/javascript" src="http://zend.lojcomm.com.br/common/js/mooRainbow.js"></script>
		<script type="text/javascript">
// <![CDATA[
var Fractal = new Class({
	options: {
		A: "YF",
		F: "F",
		X: "YF+XF+Y",
		Y: "XF-YF-X",
		alpha: 0,
		beta: Math.PI / 3,
		x: 0,
		y: 0
	},

	initialize: function(options) {
		this.setOptions(options);
	},

	plot: function(n, sContainer, nWidth, nHeight, nPadding) {
		var points = this._pattern2points(this._createPattern(n));

		var maxX = maxY = minX = minY = 0;
		for(var i = 0; i < points.length; i++) {
			if(maxX < points[i][0]) maxX = points[i][0];
			if(maxY < points[i][1]) maxY = points[i][1];
			if(minX > points[i][0]) minX = points[i][0];
			if(minY > points[i][1]) minY = points[i][1];
		}

		for(var i = 0; i < points.length; i++) {
			points[i][0] -= minX;
			points[i][1] -= minY;
		}
		maxX -= minX;
		maxY -= minY;

		if(maxX > maxY) var u = (nWidth - 2 * nPadding) / maxX;
		else var u = (nHeight - 2 * nPadding) / maxY;

		var canvas = new Canvas(sContainer +"_canvas", {
			"width": nWidth,
			"height": nHeight
		});

		sContainer = $(sContainer);
		sContainer.empty();
		sContainer.adopt(canvas);

		var pen = canvas.getContext("2d");
		pen.clearRect(0, 0, canvas.width, canvas.height);
		pen.translate(nPadding, nPadding);
		pen.lineWidth = "2";
		pen.strokeStyle = '#ff0';

		pen.beginPath();
		pen.moveTo(points[0][0] * u, points[0][1] * u);
		for(var i = 1; i < points.length; i++) {
			pen.lineTo(points[i][0] * u, points[i][1] * u);
		}
		pen.stroke();
		pen.closePath();
	},

	_createPattern: function(n) {
		var s = this.options.A;
		for(var i = 0; i <= n; i++) s = this._createNext(s);
		return s;
	},

	_createNext: function(sPattern) {
		var s = "";
		var c = '';
		for(var i = 0; i < sPattern.length; i++) {
			c = sPattern.substr(i,1);
			switch(c) {
				case 'F':
					s += this.options.F;
					break;
				case 'X':
					s += this.options.X;
					break;
				case 'Y':
					s += this.options.Y;
					break;
				default:
					s += c;
					break;
			}
		}
		return s;
	},

	_pattern2points: function(sPattern) {
		var points = [[0, 0]];
		for(var i = 0; i < sPattern.length; i++) {
			switch(sPattern.substr(i,1)) {
				case 'F':
					points.push([ this.options.x += Math.cos(this.options.alpha) , this.options.y += Math.sin(this.options.alpha) ]);
					break;
				case '+':
					this.options.alpha = (this.options.alpha + this.options.beta) % (2 * Math.PI);
					break;
				case '-':
					this.options.alpha = (this.options.alpha - this.options.beta) % (2 * Math.PI);
					break;
			}
		}
		return points;
	}
});
Fractal.implement(new Options);// Implements setOptions(defaults, options)

function updateColorComp(hexColor) {
	var container = $("exGlobalAlpha_bd");
	container.empty();
	var myColorComp = new Canvas("exGlobalAlpha_bd_canvas", {
		width: 316,
		height: 316
	}).injectInside(container);
	var pen = myColorComp.getContext("2d");
	pen.globalCompositeOperation = "lighter";
	pen.fillStyle = "#C00";
	pen.fillRect(0,0,158,158);
	pen.fillStyle = "#0C0";
	pen.fillRect(158,0,158,158);
	pen.fillStyle = "#00C";
	pen.fillRect(0,158,158,158);
	pen.fillStyle = "#CC0";
	pen.fillRect(158,158,158,158);

	pen.fillStyle = hexColor;
	pen.globalAlpha = 0.2;
	for (var i = 0; i < 15; i++){
		pen.beginPath();
		pen.arc(158, 158, 10 + 10 * i, 0, Math.PI * 2, false);
		pen.fill();
	}
}

// Starfield class derived from Ara Pehlivanian - http://arapehlivanian.com/
var Starfield = new Class({
	options: {
		width: 316,
		height: 316,
		depth: 255,
		animSpeed: 20,
		starCount: 100,
		starShape: "star",
		zoomLimit: 2,
		zoomFactor: .035,
		wave: {degree:0, dir:.1, ampl:5, freq:100},
		waveX: false,
		waveY: false,
		started: false
	},

	initialize: function(container, options) {
		this.container = $(container);
		this.setOptions(options);

		this.stars = [];
		this.xLimit = this.options.width / 2;
		this.yLimit = this.options.height / 2;
		this.zLimit = this.options.depth;
		this.canvas = new Canvas(container +"_canvas", {
			width: this.options.width,
			height: this.options.height
		}).injectInside(this.container);

		this.pen = this.canvas.getContext("2d");
		this.pen.translate(this.xLimit, this.yLimit);
		for(var i = 0; i < this.options.starCount; i++) {
			this.stars.push({
				x: this._newX(),
				y: this._newY(),
				z: this._newZ(),
				acc: this._newAcc(),
				color: this._newColor()
			});
		}
	},

	setShape: function(shape) {
		switch(shape) {
			case "square":
				this.options.starShape = shape;
				this.options.zoomLimit = 5;
				this.options.zoomFactor = .1;
				break;
			case "circle":
				this.options.starShape = shape;
				this.options.zoomLimit = 4;
				this.options.zoomFactor = .1;
				break;
			default:
				this.options.starShape = shape;
				this.options.zoomLimit = 2;
				this.options.zoomFactor = .033;
				break;
		}
	},

	toggleWave: function(el, axis) {
		switch(axis) {
			case 'x':
				if(this.options.waveX) {
					this.options.waveX = false;
					el.setHTML("x (off)");
				} else {
					this.options.waveX = true;
					el.setHTML("x (on)");
				}
				break;
			case 'y':
				if(this.options.waveY) {
					this.options.waveY = false;
					el.setHTML("y (off)");
				} else {
					this.options.waveY = true;
					el.setHTML("y (on)");
				}
				break;
		}
	},

	toggleMove: function(el) {
		if(this.options.started) {
			this.stop();
			el.setHTML("stop");
		} else {
			this.start();
			el.setHTML("start");
		}
	},

	start: function() {
		this.options.started = true;
		this.periodical = this._stepForward.periodical(this.options.animSpeed, this);
	},

	stop: function() {
		this.options.started = false;
		$clear(this.periodical);
	},

	_stepForward: function() {
		this.pen.clearRect(-this.xLimit, -this.yLimit, this.xLimit * 2, this.yLimit * 2);
		for(var i = 0; i < this.options.starCount; i++) {
			var star = this.stars[i];

			if(Math.abs(star.x) > this.xLimit) this._recycleStar(star);
			else {
				star.x += star.x * star.acc / 200
				if(this.options.waveX) star.x += this.options.wave.ampl * Math.sin(this.options.wave.degree);
			}

			if(Math.abs(star.y) > this.yLimit) this._recycleStar(star);
			else {
				star.y += star.y * star.acc / 200
				if(this.options.waveY) star.y += this.options.wave.ampl * Math.sin(this.options.wave.degree);
			}

			star.z = (star.z < this.options.zoomLimit)? star.z + this.options.zoomFactor : star.z;
			star.color += (star.color < 255) ? star.acc : 127;
			this._drawStar(star);
		}
		if(this.options.waveX || this.options.waveY) {
			if(this.options.wave.degree > 90 || this.options.wave.degree < 0) this.wave.dir *= -.1;
			this.options.wave.degree += this.options.wave.dir;
		}
	},

	_drawStar: function(star) {
		this.pen.fillStyle = "rgb("+ star.color +", "+ star.color +","+ star.color +")";
		switch(this.options.starShape) {
			case "square":
				this.pen.fillRect(star.x, star.y, star.z, star.z);
				break;
			case "circle":
				this.pen.beginPath();
				this.pen.arc(star.x, star.y, star.z, 0, Math.PI * 2, true);
				this.pen.fill();
				break;
			default:
				var shape = [[0, 0], [1.27595, -2.58545], [4.12915, -3], [2.06455, -5.0125], [2.55195, -7.85415], [0, -6.5125], [-2.552, -7.85415], [-2.0646, -5.0125], [-4.1292, -3], [-1.276, -2.58545]];
				this.pen.beginPath();
				this.pen.moveTo(star.x, star.y);
				for(var i = 0; i < shape.length; i++)
					this.pen.lineTo(star.x - shape[i][0] * star.z, star.y - shape[i][1] * star.z);
				this.pen.fill();
				break;
		}
	},

	_recycleStar: function(star) {
		star.x = this._newX();
		star.y = this._newY();
		star.z = this._newZ();
		star.acc = this._newAcc();
		star.color = this._newColor();
		this._drawStar(star);
	},

	_newX: function() {
		return 2 * Math.floor(Math.random() * (this.xLimit + 1)) - this.xLimit;
	},

	_newY: function() {
		return 2 * Math.floor(Math.random() * (this.yLimit + 1)) - this.yLimit;
	},

	_newZ: function() {
		return .1;
	},

	_newAcc: function() {
		return Math.floor(Math.random() * 21) + 5;
	},

	_newColor: function() {
		return 127;
	}
});
Starfield.implement(new Options);// Implements setOptions(defaults, options)

window.addEvent("domready", function() {
	var nSize = 316;

	var myFractal = new Fractal();
	myFractal.plot(2, "exFractal_bd", nSize, nSize, 10);

	var patterns = $("fractalPatterns");
	var iterations = $("fractalIterations");
	[patterns, iterations].each(function(obj) {
		obj.addEvent("change", function() {
			myFractal.options = Json.evaluate(patterns.getValue());
			myFractal.plot($("fractalIterations").getValue(), "exFractal_bd", nSize, nSize, 10);
		});
	});


	new MooRainbow("mooRainbowPicker", {
		id: "mooRainbowPicker_window",
		imgPath: "http://zend.lojcomm.com.br/common/images/",
		startColor: [255, 255, 255],
		onComplete: function(oSets) {
			updateColorComp(oSets.hex);
		}
	});
	updateColorComp("#FFFFFF");



	var myStarfield = new Starfield("exStarfield_bd", {starCount: 10});
	var myStarfield_shape = $("starfieldShape");
	var myStarfield_waveX = $("starfieldWaveX");
	var myStarfield_waveY = $("starfieldWaveY");
	var myStarfield_move = $("starfieldMove");
	myStarfield_shape.addEvent("change", function() {myStarfield.setShape(myStarfield_shape.getValue())});
	myStarfield_waveX.addEvent("click", function() {myStarfield.toggleWave(myStarfield_waveX, 'x')});
	myStarfield_waveY.addEvent("click", function() {myStarfield.toggleWave(myStarfield_waveY, 'y')});
	myStarfield_move.addEvent("click", function() {myStarfield.toggleMove(myStarfield_move)});
	myStarfield.start();
});

// ]]>
		</script>
	</head>
	<body>
		<div id="container">
			<div id="container_hd"></div>

			<div id="container_bd">

<h1>mooCanvas eXperiments</h1>
<p>by Fabio Zendhi Nagao (<a href="http://zend.lojcomm.com.br">http://zend.lojcomm.com.br</a>)</p>
<h2>introduction:</h2>
<p>&lt;canvas> is a new HTML element which can be used to draw graphics using scripting (usually JavaScript). It can for instance be used to draw graphs, make photo compositions or do simple (and not so simple) animations.</p>
<p>&lt;canvas> was first introduced by Apple for the Mac OS X Dashboard and later implemented in Safari. Gecko 1.8-based browsers, such as Firefox 1.5, also support this new element. The &lt;canvas> element is part of the WhatWG Web applications 1.0 specification also known as HTML 5.</p>
<h2>mooCanvas:</h2>

<p>mooCanvas a derivative of Google Team's excanvas project. Ibolmo has taken the excanvas' vml emulation to a new level, however. Portability is kept while enhancing some functions and reducing some of the code. Further, the mootools library gives the mooCanvas the edge it deserves. Now, the mooCanvas code is more object oriented, lighter, and eventually faster.</p>
<p>Keep in mind that some bugs may rise from the porting but he tried to reduce code while adhering to the WHATWG standard (something Google didn't follow too closely).</p>
<p>For more information about mooCanvas, please visit: <a href="http://olmo-maldonado.com/projects/moocanvas/">http://olmo-maldonado.com/projects/moocanvas/</a></p>
<h2>experiments:</h2>
<div id="examples">



<div id="exFractal" class="example">
	<h3>Fractals (drawing shapes)</h3>

	<div id="exFractal_hd" class="example_hd">
		<form>
			<label for="fractalPatterns">Pattern:</label><select id="fractalPatterns">
<option value="{ 'A': 'YF', 'F': 'F', 'X': 'YF+XF+Y', 'Y': 'XF-YF-X', 'alpha': 0, 'beta': Math.PI / 3, 'x': 0, 'y': 0 }">Arrowhead</option>
<option value="{ 'A': 'X', 'F': 'F', 'X': 'X+YF+', 'Y': '-FX-Y', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Dragon</option>
<option value="{ 'A': 'XF?FF?FF?F', 'F': 'FF', 'X': '?FXF++FXF++FXF?', 'alpha': 0, 'beta': Math.PI / 3, 'x': 0, 'y': 0 }">Gasket</option>
<option value="{ 'A': 'XF', 'F': 'F', 'X': 'X+YF++YF-FX?FXFX-YF+', 'Y': '-FX+YFYF++YF+FX?FX-Y', 'alpha': 0, 'beta': Math.PI / 3, 'x': 0, 'y': 0 }">Gosper</option>
<option value="{ 'A': '+F++F++F++F++F++F++F+', 'F': 'F---F++++++F---F', 'alpha': 0, 'beta': Math.PI / 7, 'x': 0, 'y': 0 }">Hepta I</option>

<option value="{ 'A': '-F--F--F--F--F--F--F-', 'F': 'F---F++++++F---F', 'alpha': 0, 'beta': Math.PI / 7, 'x': 0, 'y': 0 }">Hepta II</option>
<option value="{ 'A': 'F++F++F++F++F++F++', 'F': 'F--F++++F--F', 'alpha': 0, 'beta': Math.PI / 6, 'x': 0, 'y': 0 }">Hexa I</option>
<option value="{ 'A': '-F--F--F--F--F--F-', 'F': 'F--F++++F--F', 'alpha': 0, 'beta': Math.PI / 6, 'x': 0, 'y': 0 }">Hexa II</option>
<option value="{ 'A': 'X', 'F': 'F', 'X': '-YF+XFX+FY-', 'Y': '+XF-YFY-FX+', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Hilbert I</option>
<option value="{ 'A': 'Y', 'F': 'F', 'X': 'XFYFX+F+YFXFY-F-XFYFX', 'Y': 'YFXFY-F-XFYFX+F+YFXFY', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Hilbert II</option>
<option value="{ 'A': 'F+F+F+F', 'F': 'F-F+F+F-F', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Koch IV</option>
<option value="{ 'A': 'XFX+F+XFX', 'F': 'F', 'X': '-YF+XFX+FY-', 'Y': '+XF-YFY-FX+', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Moore</option>
<option value="{ 'A': 'F', 'F': 'F+F-F-F-F+F+F+F-F', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Peano</option>
<option value="{ 'A': '---F++F++F++F++F+++++', 'F': 'F--F++++F--F', 'alpha': 0, 'beta': Math.PI / 5, 'x': 0, 'y': 0 }">Penta I</option>

<option value="{ 'A': 'F--F--F--F--F--', 'F': 'F--F++++F--F', 'alpha': 0, 'beta': Math.PI / 5, 'x': 0, 'y': 0 }">Penta II</option>
<option value="{ 'A': '-FF--FF--FF--FF--FF-', 'F': 'F--F++++F--F', 'alpha': 0, 'beta': Math.PI / 5, 'x': 0, 'y': 0 }">Penta III</option>
<option value="{ 'A': '+F++F----F++F----F++F----F++F----F++F-', 'F': 'F--F++++F--F', 'alpha': 0, 'beta': Math.PI / 5, 'x': 0, 'y': 0 }">Penta IV</option>
<option value="{ 'A': 'F+F+F+F+', 'F': 'F-F++F-F', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Quad I</option>
<option value="{ 'A': 'F-F-F-F-', 'F': 'F-F++F-F', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Quad II</option>
<option value="{ 'A': 'F++++++++F++++++++F++++++++F', 'F': 'F-------F++++++++++++++F-------F', 'alpha': 0, 'beta': Math.PI / 16, 'x': 0, 'y': 0 }">Quad 16 I</option>
<option value="{ 'A': 'F--------F--------F--------F', 'F': 'F-------F++++++++++++++F-------F', 'alpha': 0, 'beta': Math.PI / 16, 'x': 0, 'y': 0 }">Quad 16 II</option>
<option value="{ 'A': 'F++++++++F++++++++F++++++++F++++++++', 'F': 'F-------F++++++++++++++F-------F', 'alpha': 0, 'beta': Math.PI / 16, 'x': 0, 'y': 0 }">Quad 16 III</option>
<option value="{ 'A': 'F++F++F++F++F++F++', 'F': 'F--F--F++++F++++F--F--F', 'alpha': 0, 'beta': Math.PI / 6, 'x': 0, 'y': 0 }">Six I</option>

<option value="{ 'A': '-F--F--F--F--F--F-', 'F': 'F--F--F++++F++++F--F--F', 'alpha': 0, 'beta': Math.PI / 6, 'x': 0, 'y': 0 }">Six II</option>
<option value="{ 'A': 'XF+F+XF+F+', 'F': 'XF+F+XF+F+', 'X': 'XF-F+F-XF+F+XF-F+F-X', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Square I</option>
<option value="{ 'A': 'X+F+X+F+', 'F': 'X+F+X+F+', 'X': 'X-F+F-X+F+X-F+F-X', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Square II</option>
<option value="{ 'A': 'F++F++F++F++', 'F': 'F-F++F-F', 'alpha': 0, 'beta': Math.PI / 4, 'x': 0, 'y': 0 }">Tetra I</option>
<option value="{ 'A': '+F--F--F--F--', 'F': 'F-F++F-', 'alpha': 0, 'beta': Math.PI / 4, 'x': 0, 'y': 0 }">Tetra II</option>
<option value="{ 'A': 'F+F+F+F+','F': 'F-F+F+FF-F-F+', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Tetra III</option>
<option value="{ 'A': 'F+F+F+F+', 'F': 'F-FF+FF+F+F-F-FF+F+F-F-FF-FF+', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">Tetra IV</option>
<option value="{ 'A': '-F++F++F+++', 'F': 'F-F++F-F', 'alpha': 0, 'beta': Math.PI / 3, 'x': 0, 'y': 0 }">Tri I</option>
<option value="{ 'A': 'F--F--F--', 'F': 'F-F++F-F', 'alpha': 0, 'beta': Math.PI / 3, 'x': 0, 'y': 0 }">Tri II</option>

<option value="{ 'A': 'F+F+F+F+', 'F': '-F+F-F-F+F+FF-F+F+FF+F-F-FF+F', 'alpha': 0, 'beta': Math.PI / 2, 'x': 0, 'y': 0 }">32 seg</option>
			</select>
			<label for="fractalIterations">recursions:</label><input id="fractalIterations" type="text" value="2" />
		</form>
	</div>
	<div id="exFractal_bd" class="example_bd"></div>
	<div id="exFractal_ft" class="example_ft"></div>
</div>

<div id="exGlobalAlpha" class="example">
	<h3>Color composition (global alpha)</h3>
	<div id="exGlobalAlpha_hd" class="example_hd">
		<form><label for="colorCompHex">Select a color:</label><img id="mooRainbowPicker" src="http://zend.lojcomm.com.br/common/images/moor_rainbow.png" alt="Select a color" /></form>
	</div>
	<div id="exGlobalAlpha_bd" class="example_bd"></div>
	<div id="exGlobalAlpha_ft" class="example_ft"></div>
</div>

<div id="exStarfield" class="example">
	<h3>Starfield (canvas animation)</h3>
	<div id="exStarfield_hd" class="example_hd">
		<label>Shape:</label><select id="starfieldShape">
			<option value="star">Stars</option>
			<option value="circle">Circles</option>
			<option value="square">Squares</option>

		</select>
		<label>wave:</label><span id="starfieldWaveX">x (off)</span><span id="starfieldWaveY">y (off)</span><span id="starfieldMove">stop</span>
	</div>
	<div id="exStarfield_bd" class="example_bd"></div>
	<div id="exStarfield_ft" class="example_ft"></div>
</div>

<div id="exImageComp" class="example">

	<h3>Image composition</h3>
	<div id="exImageComp_hd" class="example_hd"></div>
	<div id="exImageComp_bd" class="example_bd"></div>
	<div id="exImageComp_ft" class="example_ft"></div>
</div>

<!--//
<div id="" class="example">
	<h3></h3>
	<div id="_hd" class="example_hd"></div>
	<div id="_bd" class="example_bd"></div>
	<div id="_ft" class="example_ft"></div>
</div>
//-->



</div>
<h2><a id="selflink_comments">comments:</a></h2>

<div id="mod_comments">
<div id="mod_comments_list">
	<div class="mod_comments_list_paging">
<ul>
	<li class="mod_comments_list_view_all">View All</li>
	<li class="mod_comments_list_number"><a href="#" onclick="mod_comments_list_page(1); return false;" onmouseover="window.status=' Go to 1';return true;" onmouseout="window.status='';return true;">1</a></li>
</ul>
	</div>
	<div class="mod_comments_list even"><span class="mod_comments_list_date">5/3/2007 3:16:51 AM - No comments yet :'(</span></div>

	<div class="mod_comments_list_paging">
<ul>
	<li class="mod_comments_list_view_all">View All</li>
	<li class="mod_comments_list_number"><a href="#" onclick="mod_comments_list_page(1); return false;" onmouseover="window.status=' Go to 1';return true;" onmouseout="window.status='';return true;">1</a></li>
</ul>
	</div>
</div>
<form id="mod_comments_form" action="http://zend.lojcomm.com.br/common/comments/insert.asp">
	<p>Did you like it? Disliked it? Express your feelings, leave-me a message. (Yellow fields are required)</p>

	<table>
		<tr>
			<td><label for="mod_comments_form_name">name:</label></td>
			<td colspan="3"><input type="text" class="required" id="mod_comments_form_name" name="name" maxlength="100" /></td>
		</tr>
		<tr>
			<td><label for="mod_comments_form_email">email:</label></td>
			<td><input type="text" id="mod_comments_form_email" name="email" maxlength="100" /></td>

			<td><label for="mod_comments_form_website">website:</label></td>
			<td><input type="text" id="mod_comments_form_website" name="website" maxlength="255" /></td>
		</tr>
		<tr>
			<td colspan="4" style="padding-top:10px;"><label for="mod_comments_form_comment">comment:</label></td>
		</tr>
		<tr>
			<td><label for="mod_comments_form_title">title:</label></td>

			<td><input type="text" class="required" id="mod_comments_form_title" name="title" maxlength="255" /></td>
			<td><label for="mod_comments_form_rating">rating:</label></td>
			<td><select class="required" id="mod_comments_form_rating" name="rating">
				<option value="5">5</option>
				<option value="4">4</option>
				<option value="3">3</option>
				<option value="2">2</option>

				<option value="1">1</option>
			</select></td>
		</tr>
		<tr>
			<td colspan="4"><textarea class="required" id="mod_comments_form_comment" name="comment" rows="" cols="" style="width:100%; height:160px; border:1px solid #ccc"></textarea></td>
		</tr>
		<tr>
			<td colspan="4"><input type="hidden" name="idset" value="mooCanvas" /><input type="button" style="padding:0 10px; background:#ccc; font-family:Arial; color:#fff;" value="submit" onclick="mod_comments_form_submit()" /></td>

		</tr>
	</table>
</form>
<script type="text/javascript">
//<![CDATA[
function mod_comments_list_page(p) {
	new Ajax("http://zend.lojcomm.com.br/common/comments/list.asp?idset=mooCanvas&p="+ p, {
		method: "get",
		update: "mod_comments_list"
	}).request();
}

function mod_comments_form_submit() {
	var f = $("mod_comments_form_name");
	if(f.value == "") {alert("Name is required.");f.focus();return;}
	f = $("mod_comments_form_title");
	if(f.value == "") {alert("Title is required.");f.focus();return;}
	f = $("mod_comments_form_comment");
	if(f.value == "") {alert("Comment is required.");f.focus();return;}

	MOOdalBox.open("http://zend.lojcomm.com.br/common/comments/insert.asp", "System message", "moodalbox 300 80", $("mod_comments_form"));
}
//]]>
</script>
</div>

			</div>
			<div id="container_ft">
				<p>&copy; 2007 Fabio Zendhi Nagao (nagaozen) - http://zend.lojcomm.com.br/</p>

				<ul>
					<li><a href="http://validator.w3.org/check?uri=referer"><img src="http://zend.lojcomm.com.br/common/images/antipixel_xhtml11.gif" alt="Valid XHTML" /></a></li>
					<li><a href="http://jigsaw.w3.org/css-validator/validator?uri=http://zend.lojcomm.com.br/imask/css/this.css"><img src="http://zend.lojcomm.com.br/common/images/antipixel_css.gif" alt="Valid CSS" /></a></li>
				</ul>
			</div>
		</div>
	</body>
</html>